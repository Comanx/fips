<!DOCTYPE html>





<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  
    
    Build Projects
  
 | Fips Docs</title>



<link rel="stylesheet" href="/fips/book.min.a40af3dc8c0a4d2d9dd31b0865c32c72becf072fcbd75fa08f4d97e7a027e555.css">


<link rel="icon" href="/fips/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav role="navigation">
<h2 class="book-brand">
  <a href="http://floooh.github.io/fips/">Fips Docs</a>
</h2>



    

  
  





 
  
    

  <ul>
    
    
    <li>
      

  <a href="/fips/docs/getstarted/" >
    
  
    
    Get Started
  

  </a>


    </li>
    
    <li>
      

  <a href="/fips/docs/build/"  class="active">
    
  
    
    Build Projects
  

  </a>


    </li>
    
    <li>
      

  <a href="/fips/docs/troubleshooting/" >
    
  
    
    Troubleshooting
  

  </a>


    </li>
    
    <li>
      

  <a href="/fips/docs/crosscompiling/" >
    
  
    
    Cross-compiling
  

  </a>


    </li>
    
    <li>
      

  <a href="/fips/docs/cmakeguide/" >
    
  
    
    CMake Guide
  

  </a>


    </li>
    
    <li>
      

  <a href="/fips/docs/imports/" >
    
  
    
    Imports
  

  </a>


    </li>
    
    <li>
      

  <a href="/fips/docs/exports/" >
    
  
    
    Exports
  

  </a>


    </li>
    
    <li>
      

  <a href="/fips/docs/codegen/" >
    
  
    
    Code Generation
  

  </a>


    </li>
    
    <li>
      

  <a href="/fips/docs/dirstructure/" >
    
  
    
    Directory Structure
  

  </a>


    </li>
    
  </ul>


  











</nav>


  
<script>
(function() {
  var menu = document.querySelector('aside.book-menu nav')
  addEventListener('beforeunload', function(event) {
    localStorage.setItem('menu.scrollTop', menu.scrollTop)
  });
  menu.scrollTop = localStorage.getItem('menu.scrollTop')
})()
</script>



    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="/fips/svg/menu.svg" alt="Menu" />
  </label>
  <strong>
  
    
    Build Projects
  
</strong>
</header>

      
<article class="markdown"><h1 id="build-projects">Build Projects</h1>
<p>To build the default build configuration of a &lsquo;fipsified&rsquo; project for your
host platform, simply run &lsquo;./fips build&rsquo; in its root directory:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; cd ~/fips-workspace
</span></span><span class="line"><span class="cl">&gt; git clone https://github.com/floooh/fips-hello-world.git
</span></span><span class="line"><span class="cl">&gt; cd fips-hello-world
</span></span><span class="line"><span class="cl">&gt; ./fips build
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">&gt; _
</span></span></code></pre></div><p>By default, a non-optimized <em>debug</em> version will be built, to build
an optimized <em>release</em> version append the configuration name that is
right for your host platform:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># on OSX:
</span></span><span class="line"><span class="cl">&gt; ./fips build osx-xcode-release
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl"># on Linux:
</span></span><span class="line"><span class="cl">&gt; ./fips build linux-make-release
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl"># on Windows:
</span></span><span class="line"><span class="cl">&gt; ./fips build win64-vstudio-release
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">&gt; _
</span></span></code></pre></div><h3 id="build-configs">Build Configs</h3>
<p>Build configs like <em>osx-xcode-release</em> are the core feature of fips. A
build config tells cmake how to compile the project:</p>
<ul>
<li>the <strong>target platform</strong> to build for</li>
<li>the <strong>build tool</strong> to use</li>
<li>the <strong>build type</strong> (e.g. debug or release)</li>
<li>additional cmake options to customize a build</li>
</ul>
<p>To get a list of build configurations, run &lsquo;./fips list configs&rsquo;:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; ./fips list configs
</span></span><span class="line"><span class="cl">from /Users/floh/projects/fips/configs:
</span></span><span class="line"><span class="cl">  android-make-debug
</span></span><span class="line"><span class="cl">  android-make-release
</span></span><span class="line"><span class="cl">  android-ninja-debug
</span></span><span class="line"><span class="cl">  android-ninja-release
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">  win32-vstudio-debug
</span></span><span class="line"><span class="cl">  win32-vstudio-release
</span></span><span class="line"><span class="cl">  win64-vstudio-debug
</span></span><span class="line"><span class="cl">  win64-vstudio-release
</span></span><span class="line"><span class="cl">&gt; _
</span></span></code></pre></div><p>There are dozens of build configs, but not all are supported on every
host platform, to test which build configs are supported, run
&lsquo;./fips diag configs&rsquo;:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; ./fips diag configs
</span></span><span class="line"><span class="cl">=== configs:
</span></span><span class="line"><span class="cl">android-make-debug
</span></span><span class="line"><span class="cl">  ok
</span></span><span class="line"><span class="cl">android-make-release
</span></span><span class="line"><span class="cl">  ok
</span></span><span class="line"><span class="cl">android-ninja-debug
</span></span><span class="line"><span class="cl">  build tool &#39;ninja&#39; not found
</span></span><span class="line"><span class="cl">android-ninja-release
</span></span><span class="line"><span class="cl">  build tool &#39;ninja&#39; not found
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">&gt; _
</span></span></code></pre></div><p>In this example, the build configurations which use the &rsquo;ninja&rsquo; build tool
can not be used because ninja is currently not installed (see also &lsquo;./fips
diag tools&rsquo;).</p>
<h3 id="active-config">Active Config</h3>
<p>To save typing, an <em>active config</em> can be set per project. This will
be used if a fips command expects a config name, but none is given.
Use &lsquo;./fips set config [config-name]&rsquo; if you
want to compile the release version of a project instead of the default
debug version whenever &lsquo;./fips build&rsquo; is run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># on OSX:
</span></span><span class="line"><span class="cl">&gt; ./fips set config osx-xcode-release
</span></span><span class="line"><span class="cl">&#39;config&#39; set to &#39;osx-xcode-release&#39; in project &#39;fips-hello-world&#39;
</span></span><span class="line"><span class="cl">&gt; ./fips build
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl"># on Linux:
</span></span><span class="line"><span class="cl">&gt; ./fips set config linux-make-release
</span></span><span class="line"><span class="cl">&#39;config&#39; set to &#39;linux-make-release&#39; in project &#39;fips-hello-world&#39;
</span></span><span class="line"><span class="cl">&gt; ./fips build
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl"># on Windows:
</span></span><span class="line"><span class="cl">&gt; ./fips set config win64-vstudio-release 
</span></span><span class="line"><span class="cl">&#39;config&#39; set to &#39;win64-vstudio-release&#39; in project &#39;fips-hello-world&#39;
</span></span><span class="line"><span class="cl">&gt; ./fips build
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">&gt; _
</span></span></code></pre></div><p>Run &lsquo;./fips list settings&rsquo; to check what the currently active config is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; ./fips list settings
</span></span><span class="line"><span class="cl">=== settings:
</span></span><span class="line"><span class="cl">  config: osx-xcode-release
</span></span><span class="line"><span class="cl">  target: None (default value)
</span></span></code></pre></div><p>To revert back to the default config, run &lsquo;./fips unset config&rsquo;:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; ./fips unset config
</span></span><span class="line"><span class="cl">&#39;config&#39; unset in project &#39;fips-hello-world&#39;
</span></span><span class="line"><span class="cl">&gt; ./fips list settings
</span></span><span class="line"><span class="cl">=== settings:
</span></span><span class="line"><span class="cl">  config: osx-xcode-debug (default value)
</span></span><span class="line"><span class="cl">  target: None (default value)
</span></span><span class="line"><span class="cl">&gt; _
</span></span></code></pre></div><h3 id="build-targets">Build Targets</h3>
<p>Projects are usually made of several build targets, of which fips has 3
types:</p>
<ul>
<li><strong>apps</strong>: statically linked applications</li>
<li><strong>modules</strong>: high level static libraries with dependencies to other modules</li>
<li><strong>libs</strong>: low-level static libraries, usually 3rd party code with custom compile
settings</li>
</ul>
<p>The targets a project is made of and their dependencies are described
in CMakeLists.txt files. This is a complex topic for later. For now let&rsquo;s just
see how to list the targets of a project, and how to build and run specific
targets.</p>
<p>To get a list of targets in the current project, run &lsquo;./fips list targets&rsquo;
from the project root directory. For this to work, cmake must have generated
build files before via &lsquo;./fips gen&rsquo;:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; ./fips gen
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">&gt; ./fips list targets
</span></span><span class="line"><span class="cl">=== targets:
</span></span><span class="line"><span class="cl">  config: osx-xcode-debug
</span></span><span class="line"><span class="cl">  lib:
</span></span><span class="line"><span class="cl">  module:
</span></span><span class="line"><span class="cl">    dep1
</span></span><span class="line"><span class="cl">    dep2
</span></span><span class="line"><span class="cl">  app:
</span></span><span class="line"><span class="cl">    hello
</span></span><span class="line"><span class="cl">&gt; _ 
</span></span></code></pre></div><p>A specific target can be built with &lsquo;./fips make [target]&rsquo;:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; ./fips make hello
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">&gt; _
</span></span></code></pre></div><p>App targets can be run with &lsquo;./fips run [target]&rsquo;:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; ./fips run hello
</span></span><span class="line"><span class="cl">=== run &#39;hello&#39; (config: osx-xcode-debug, project: fips-hello-world):
</span></span><span class="line"><span class="cl">Hello World!
</span></span><span class="line"><span class="cl">Hello from dep1
</span></span><span class="line"><span class="cl">Hello from dep2!
</span></span><span class="line"><span class="cl">Imported string define: Bla
</span></span><span class="line"><span class="cl">Imported int define: 1
</span></span><span class="line"><span class="cl">&gt; _
</span></span></code></pre></div></article>

      

      
    </div>

    
  
  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#build-configs">Build Configs</a></li>
        <li><a href="#active-config">Active Config</a></li>
        <li><a href="#build-targets">Build Targets</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </aside>



  </main>
  
  
  
</body>

</html>
